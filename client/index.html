<!DOCTYPE html>
<html>
  <head>
    <title>Try ParenScript</title>
    <style type="text/css" media="screen">
      body { margin: 0; padding: 0; }
      div#about { width: 60%; margin: 0 auto;}
      table { width: 100%; }
      h1 { font-size: 3em; }
      h1, h2 { text-align: center; margin: 10px; padding: 10px; }
      div#console
       { font-size: 14px; margin-top:1em; width: 100%;
          height: 400px; }
      div#console div.jquery-console-inner
       { width:100%; height:400px; background:#efefef; padding:0.5em;
         overflow:auto; }
      div#console div.jquery-console-prompt-box
       { color:#444; font-family:monospace; }
      div#console div.jquery-console-focus span.jquery-console-cursor
       { background:#333; color:#eee; font-weight:bold; }
      div#console div.jquery-console-message-error
       { color:#ef0505; font-family:sans-serif; font-weight:bold;
         padding:0.1em; }
      div#console div.jquery-console-message-success
       { color:#187718; font-family:monospace;
         padding:0.1em; }
      div#console div.jquery-console-message
        { white-space:pre; font-family:monospace; }
      div#console span.jquery-console-prompt-label { font-weight:bold; }
    </style>
  </head>
  <body>
    <h1>Try ParenScript</h1>
    <div id="console"></div>
    <div id="about">
      <h2>Cheat Sheet</h2>
      <div id="tut1">
        <table>
          <tr valign="center">
            <th>ParenScript</th>
            <th>JavaScript</th>
          </tr>
          <tr>
            <td><code>(alert (+ 1 1))</code></td>
            <td><code>alert(1 + 1);</code></td>
          </tr>
          <tr>
            <td><pre>(defun factorial (n)
  (if (< n 1)
      1
      (* n (factorial (- n 1)))))</pre></td>
            <td><pre>function factorial(n) {
    if (n < 1) {
        return 1;
    } else {
        return n * factorial(n - 1);
    }
}</pre></td>
          </tr>
            <td><pre>(@ ($ "div") length)</pre></td>
            <td><pre>$("div").length;</pre></td>
          </tr>
          </tr>
            <td><pre>(chain ($ "h1")
       (css "color" "green")
       (html "Header 1")
       (click (lambda ()
                (alert "Clicked!"))))</pre></td>
            <td><pre>$("h1").css("color", "green")
       .html("Header 1")
       .click(function () {
                  alert("Clicked!");
              });</pre></td>
          </tr>
        </table>
      </div>
      <h2>About</h2>
      <p>
        This site was developed by <a href="http://fitzgeraldnick.com/">Nick
        Fitzgerald</a>
        using <a href="http://common-lisp.net/project/parenscript/">ParenScript</a>,
        <a href="http://nodejs.org/">Node JS</a>,
        and <a href="http://github.com/chrisdone/jquery-console">jQuery
        Console</a>. To learn more about
        ParenScript, <a href="http://common-lisp.net/project/parenscript/tutorial.html">dive
        in to the tutorial</a>. The source for this site
        is <a href="http://github.com/fitzgen/tryparenscript.com">hosted on
        GitHub</a>. Pull requests welcome!
      </p>
      <p>
        Unfortunately, <code>defmacro</code> and friends are not currently
        supported since I haven't found a way to "sandbox" Common Lisp
        effectively, and anyone would be able to run arbitrary code on my
        server.
      </p>
    </div>
    <script type="text/javascript" src="/jquery.js"></script>
    <script type="text/javascript" src="/jquery.console.js"></script>
    <script type="text/javascript" src="/client.js"></script>
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-17866549-1']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </body>
</html>
